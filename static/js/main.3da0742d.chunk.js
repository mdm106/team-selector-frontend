(this["webpackJsonpteam-selector-frontend"]=this["webpackJsonpteam-selector-frontend"]||[]).push([[0],{41:function(e,a,t){e.exports=t(77)},46:function(e,a,t){},47:function(e,a,t){},77:function(e,a,t){"use strict";t.r(a);var n=t(0),m=t.n(n),l=t(20),r=t.n(l),c=(t(46),t(47),t(4)),i=t(8),s=Object(i.b)(),o=function(){return m.a.createElement("div",{className:"container main-title"},m.a.createElement("header",{className:"title-text"},m.a.createElement("h1",null,"Team Selector"),m.a.createElement("h5",null,"Never be picked last again")))},u=t(3),d=function(){return m.a.createElement("div",{className:"container"},m.a.createElement("h5",null,"Team Selector helps you quickly and fairly pick your teams. Less time organising, more time winning."),m.a.createElement("br",null),m.a.createElement("ul",{className:"about-list"},m.a.createElement("h5",null,"Features include:"),m.a.createElement("li",null,"Team name generator to randomly assign your teams with fun names"),m.a.createElement("li",null,"Selection for team sizes ranging from 5-a-side up to 11-a-side"),m.a.createElement("li",null,"Random selection of teams"),m.a.createElement("li",null,"Option to provide player ability scores for balanced team selection"),m.a.createElement("li",null,"Copy feature so that you can easily copy the team details to paste into email, text messages etc"),m.a.createElement("li",null,"Save game details, including the game date and team names"),m.a.createElement("li",null,"Update game details with the score, when the game is complete"),m.a.createElement("li",null,"View the details from previous games")),m.a.createElement("div",{className:"central-button"},m.a.createElement(u.a,{to:"/team-details"},m.a.createElement("p",{className:"btn btn-primary"},"Get selecting!"))),m.a.createElement("div",{className:"central-button"},m.a.createElement(u.a,{to:"/game-history"},m.a.createElement("p",{className:"btn btn-danger"},"View previous game details"))))},h=t(6),p=t(5),b=t(16),E=t(12),N=t(13),f=t(1),g=t(15),y=t(14),v=function(e){var a=e.field,t=e.type,n=e.value,l=e.handleChange,r=e.label,c=e.inputClass,i=e.groupClass;return m.a.createElement("div",{className:i},m.a.createElement("label",{htmlFor:a},r),m.a.createElement("input",{className:c,id:a,name:a,type:t,value:n,onChange:l}))};v.defaultProps={inputClass:"form-control",groupClass:"form-group",type:"text"};var S=v,k=function(e){var a=e.field,t=e.value,n=e.handleChange,l=e.label,r=e.options;return m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:a},l),m.a.createElement("select",{className:"form-control",id:a,name:a,value:t,onChange:n},r.map((function(e,a){return m.a.createElement("option",{key:a,value:e},e)}))))},T=function(e){var a=e.groupClass,t=e.label,n=e.field,l=e.checked,r=e.handleChange;return m.a.createElement("div",{className:a},m.a.createElement("label",null,t,m.a.createElement("input",{name:n,type:"checkbox",checked:l,onChange:r})))};T.defaultProps={groupClass:"form-check"};var C=T,O=function(e){var a=e.type,t=e.className,n=e.onClick,l=e.message,r=e.disabled;return m.a.createElement("button",{type:a,className:"btn btn-".concat(t),onClick:n,disabled:r},l)};O.defaultProps={type:"button",className:"primary",disabled:!1};var j=O,_=function(e){Object(g.a)(t,e);var a=Object(y.a)(t);function t(e){var n;return Object(E.a)(this,t),(n=a.call(this,e)).state={team1Name:e.team1Name,team2Name:e.team2Name,teamSize:e.teamSize,abilityPick:e.abilityPick,namePicked:!1,nameConfirmed:!1},n.handleNameButton=n.handleNameButton.bind(Object(f.a)(n)),n.handleConfirmName=n.handleConfirmName.bind(Object(f.a)(n)),n.handleResetNameButton=n.handleResetNameButton.bind(Object(f.a)(n)),n.handleTeam1Name=n.handleTeam1Name.bind(Object(f.a)(n)),n.handleTeam2Name=n.handleTeam2Name.bind(Object(f.a)(n)),n.handleTeamSize=n.handleTeamSize.bind(Object(f.a)(n)),n.handleAbilityPick=n.handleAbilityPick.bind(Object(f.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n.handleResetForm=n.handleResetForm.bind(Object(f.a)(n)),n}return Object(N.a)(t,[{key:"handleNameButton",value:function(){this.props.handleTeamName(),this.setState((function(e,a){return{namePicked:!0,team1Name:a.team1Name,team2Name:a.team2Name}}))}},{key:"handleConfirmName",value:function(){this.setState({team1Name:this.props.team1Name,team2Name:this.props.team2Name,nameConfirmed:!0})}},{key:"handleResetNameButton",value:function(){this.setState({namePicked:!1,team1Name:"Team 1",team2Name:"Team 2"})}},{key:"handleTeam1Name",value:function(e){this.setState({team1Name:e.currentTarget.value})}},{key:"handleTeam2Name",value:function(e){this.setState({team2Name:e.currentTarget.value})}},{key:"handleTeamSize",value:function(e){this.setState({teamSize:e.currentTarget.value})}},{key:"handleAbilityPick",value:function(e){var a=e.target,t="abilityPick"===a.name?a.checked:a.value,n=a.name;this.setState(Object(b.a)({},n,t))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleSave(Object(p.a)({},this.state))}},{key:"handleResetForm",value:function(){this.props.handleFormReset(),this.setState({abilityPick:!1,team1Name:"Team 1",team2Name:"Team 2",teamSize:5,namePicked:!1,nameConfirmed:!1})}},{key:"render",value:function(){var e=this.state,a=e.team1Name,t=e.team2Name,n=e.teamSize,l=e.abilityPick,r=e.namePicked,c=e.nameConfirmed;return m.a.createElement("div",{className:"container"},m.a.createElement("h3",{className:"instructions-heading"},"Team Details"),c?null:m.a.createElement("div",{className:"name-picker-text"},m.a.createElement("p",{className:"name-picker-para"},"Need inspiration? Use our name picker:"),m.a.createElement(j,{onClick:this.handleNameButton,message:r?"Click again for more names!":"Click me for cool names!"})),r&&!c?m.a.createElement(m.a.Fragment,null,m.a.createElement(j,{onClick:this.handleConfirmName,message:"Use the team names below!",className:"btn btn-primary gapped-buttons"}),m.a.createElement(j,{onClick:this.handleResetNameButton,message:"I'll choose my own thanks"})):null,r?m.a.createElement("ul",{className:"team-name-list"},m.a.createElement("h4",null,"Your team names are:"),m.a.createElement("li",null,m.a.createElement("h5",null,this.props.team1Name)),m.a.createElement("li",null,m.a.createElement("h5",null,this.props.team2Name))):null,m.a.createElement("form",null,r?null:m.a.createElement(m.a.Fragment,null,m.a.createElement(S,{label:"Team 1 Name:",field:a,value:r?this.props.team1Name:a,handleChange:this.handleTeam1Name}),m.a.createElement(S,{label:"Team 2 Name:",field:t,value:r?this.props.team2Name:t,handleChange:this.handleTeam2Name})),!r||c?m.a.createElement(m.a.Fragment,null,m.a.createElement(k,{field:"teamSize",value:n,label:"Players per team:",handleChange:this.handleTeamSize,options:["3","4","5","6","7","8","9","10","11"]}),m.a.createElement(C,{label:"Select teams by ability:",field:"abilityPick",checked:l,handleChange:this.handleAbilityPick}),m.a.createElement(j,{type:"submit",onClick:this.handleSubmit,message:"Submit"}),m.a.createElement("div",{className:"adjacent-buttons"},m.a.createElement(j,{className:"danger",message:"Reset form",onClick:this.handleResetForm}),m.a.createElement(u.a,{to:"/"},m.a.createElement("p",{className:"btn btn-danger"},"Back to home")))):null))}}]),t}(n.Component),P=function(e){for(var a=e.length-1;a>0;a-=1){var t=Math.floor(Math.random()*a),n=e[a];e[a]=e[t],e[t]=n}return[e.filter((function(e,a){return a%2===0})),e.filter((function(e,a){return a%2!==0}))]},A=function(e){e.sort((function(e,a){return e.ability-a.ability}));for(var a=e.length/2,t=0,n=0,m=e.length-1,l=0,r=0,c=[],i=[];t<a&&n<a;)l<r?(c[t]=e[m],t+=1,l+=e[m].ability):(i[n]=e[m],n+=1,r+=e[m].ability),m-=1;return c.length<a?c=e.filter((function(e){return!i.includes(e)})):i.length<a&&(i=e.filter((function(e){return!c.includes(e)}))),[c,i]},G=t(37),D=t.n(G).a.create({baseURL:"https://stark-ravine-35553.herokuapp.com/api",headers:{Accept:"application/json"}}),w=function(){return function(e){return D.get("/games").then((function(a){var t=a.data;e(function(e){return{type:"SAVE_GAMES",games:e}}(t.data))}))}},R=Object(h.b)((function(e){return{team1Name:e.team1Name,team2Name:e.team2Name,teamSize:e.teamSize,abilityPick:e.abilityPick}}),(function(e){return{handleSave:function(a){var t;e({type:"SAVE_SETTINGS",team1Name:(t=a).team1Name,team2Name:t.team2Name,teamSize:+t.teamSize,abilityPick:t.abilityPick}),s.push("/name-entry")},handleTeamName:function(){return e((function(e){return D.get("/team-names/random").then((function(a){var t=a.data;e(function(e){return{type:"SAVE_NAMES",team1Name:e[0].name,team2Name:e[1].name}}(t.data))}))}))},handleFormReset:function(){return e({type:"RESET"})}}}))(_),F=function(e){var a=e.formErrors;return m.a.createElement("div",{className:"formErrors"},Object.keys(a).map((function(e,t){return a[e].length>0?m.a.createElement("p",{className:"alert",key:t},a[e]):""})))},z=function(e){Object(g.a)(t,e);var a=Object(y.a)(t);function t(e){var n;Object(E.a)(this,t),n=a.call(this,e);var m=Array.from(Array(2*e.teamSize),(function(e,a){return a+1})),l=m.map((function(){return""}));0!==e.players.length&&(l=e.players.map((function(e){return e.name})));var r=m.map((function(){return"50"}));return 0!==e.players.length&&(r=e.players.map((function(e){return e.ability}))),n.state={totalPlayers:m,playerNames:l,playerAbilities:r,formErrors:{incompletePlayerNames:"",duplicatePlayerNames:""},playerNamesComplete:!1,playerNamesUnique:!1,formValid:e.reEntry,reEntry:e.reEntry},n.handleNameInput=n.handleNameInput.bind(Object(f.a)(n)),n.handleAbilityInput=n.handleAbilityInput.bind(Object(f.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n}return Object(N.a)(t,[{key:"validateField",value:function(e,a){var t,n=this.state.formErrors,m=this.state.playerNamesComplete,l=this.state.playerNamesUnique,r=this.state.totalPlayers.length;switch(e){case"playerNames":l=(m=-1===a.indexOf(""))&&0===(t=a,(t=t.map((function(e){return e.toLowerCase()}))).filter((function(e,a){return t.indexOf(e)!==a}))).length,n.incompletePlayerNames=m?"":"Please enter ".concat(r," player names"),n.duplicatePlayerNames=l||m?!l&&m?"Duplicate names present, please ensure all names are unique":"Click submit to find out your teams!":""}this.setState({formErrors:n,playerNamesComplete:m,playerNamesUnique:l},this.validateForm)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.playerNamesComplete&&this.state.playerNamesUnique||this.state.reEntry})}},{key:"handleNameInput",value:function(e,a){var t=this,n=this.state.playerNames.slice();n[a]=e.currentTarget.value,this.setState({playerNames:n,reEntry:!1},(function(){t.validateField("playerNames",t.state.playerNames)}))}},{key:"handleAbilityInput",value:function(e,a){var t=this.state.playerAbilities.slice();t[a]=e.currentTarget.value,this.setState({playerAbilities:t,reEntry:!1})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleNameEntries(Object(p.a)({},this.state))}},{key:"render",value:function(){var e=this,a=this.state,t=a.playerNames,n=a.playerAbilities,l=a.totalPlayers,r=this.props.abilityPick;return m.a.createElement("div",{className:"container"},m.a.createElement("h3",null,"Enter player names ",r?"and abilities":null," here:"),m.a.createElement("form",{onSubmit:this.handleSubmit},l.map((function(a,l){return m.a.createElement("div",{className:"player-form",key:l},m.a.createElement(S,{label:"Player ".concat(a," Name:"),groupClass:(r?"ability-pick ":"no-ability-pick")+" form-group",field:"player".concat(a,"Name"),value:t[l],handleChange:function(a){return e.handleNameInput(a,l)}}),r?m.a.createElement(S,{label:"Ability:",field:"player".concat(a,"Ability"),type:"range",inputClass:"custom-range",groupClass:(r?"ability-pick ":"no-ability-pick")+" form-group",value:n[l],handleChange:function(a){return e.handleAbilityInput(a,l)}}):null)})),m.a.createElement("div",{className:"panel panel-default"},m.a.createElement(F,{formErrors:this.state.formErrors})),m.a.createElement("div",null,m.a.createElement(j,{type:"submit",message:"Submit",disabled:!this.state.formValid})),m.a.createElement("div",null,m.a.createElement(u.a,{to:"/team-details"},m.a.createElement("p",{className:"btn btn-danger gapped-buttons"},"Back to settings form")),m.a.createElement(u.a,{to:"/"},m.a.createElement("p",{className:"btn btn-danger"},"Home")))))}}]),t}(n.Component),x=Object(h.b)((function(e){return{teamSize:e.teamSize,abilityPick:e.abilityPick,players:e.players,reEntry:e.reEntry}}),(function(e){return{handleNameEntries:function(a){e(function(e){var a=e.playerNames,t=e.playerAbilities,n=function(e,a,t){for(var n=[],m=0;m<e.length;m++){var l={id:e[m],name:a[m],ability:+t[m]};n.push(l)}return n}(e.totalPlayers,a,t);return{type:"SAVE_PLAYERS",randomisedTeams:P(n),equalisedTeams:A(n),players:n.sort((function(e,a){return e.id-a.id}))}}(a)),s.push("/team-selection")}}}))(z),L=function(e){var a=e.handleReset;return m.a.createElement("button",{className:"btn btn-danger",onClick:a},"Start again")},I=Object(h.b)(null,(function(e){return{handleReset:function(){e({type:"RESET"}),s.push("/team-details")}}}))(L),B=t(38),V=function(e){Object(g.a)(t,e);var a=Object(y.a)(t);function t(e){var n;Object(E.a)(this,t);var m,l,r;return(n=a.call(this,e)).state={value:(m=e.team1Name,l=e.team2Name,r=e.teams,r.length>0?"Team: "+m+r[0].reduce((function(e,a){return e+a.name+"\n"}),"\n")+"\nTeam: "+l+r[1].reduce((function(e,a){return e+a.name+"\n"}),"\n"):""),copied:!1},n.handleCopy=n.handleCopy.bind(Object(f.a)(n)),n}return Object(N.a)(t,[{key:"handleCopy",value:function(){this.setState({copied:!0})}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement(B.CopyToClipboard,{text:this.state.value,onCopy:this.handleCopy},m.a.createElement("button",{className:"btn btn-primary"},"Copy team details to clipboard")),this.state.copied?m.a.createElement("span",{className:"copied-msg"},"Copied"):null)}}]),t}(n.Component),U=Object(h.b)((function(e){return{team1Name:e.team1Name,team2Name:e.team2Name,teams:e.teams}}))(V),M=function(e){var a=e.team1Name,t=e.team2Name,n=e.teams,l=e.abilityPick,r=e.handleAmend;return m.a.createElement("div",{className:"container"},m.a.createElement("h2",null,"Your team selection is:"),n.map((function(e,n){return m.a.createElement("div",{key:n,className:"card"},m.a.createElement("ul",{className:"list-group"},m.a.createElement("h3",{className:"card-title"},0===n?a:t)),e.map((function(e,a){return m.a.createElement("li",{className:"list-group-item",key:a},m.a.createElement("p",{className:"list-group-item-text"},e.name),l?m.a.createElement("p",{className:"list-group-item-text"},"Ability: ",e.ability,"/100"):null)})),l?m.a.createElement("p",{className:"average-info"},"Average ability: ",(e.reduce((function(e,a){return e+a.ability}),0)/e.length).toFixed(1)):null)})),m.a.createElement("div",{className:"adjacent-buttons"},m.a.createElement(j,{message:"Amend player details",onClick:r}),m.a.createElement(I,null)),m.a.createElement("div",{className:"adjacent-buttons"},m.a.createElement(U,null),m.a.createElement(u.a,{to:"/game-details"},m.a.createElement("p",{className:"btn btn-primary"},"Save game details"))))},q=Object(h.b)((function(e){return{team1Name:e.team1Name,team2Name:e.team2Name,teams:e.teams,abilityPick:e.abilityPick}}),(function(e){return{handleAmend:function(){e({type:"AMEND_ENTRIES"}),s.push("/name-entry")}}}))(M),H=function(e){Object(g.a)(t,e);var a=Object(y.a)(t);function t(e){var n;return Object(E.a)(this,t),(n=a.call(this,e)).state={gameDate:"",team1Name:e.team1Name,team2Name:e.team2Name,team1Score:0,team2Score:0,gameComplete:!1},n.handleGameDate=n.handleGameDate.bind(Object(f.a)(n)),n.handleTeam1Name=n.handleTeam1Name.bind(Object(f.a)(n)),n.handleTeam2Name=n.handleTeam2Name.bind(Object(f.a)(n)),n.handleTeam1Score=n.handleTeam1Score.bind(Object(f.a)(n)),n.handleTeam2Score=n.handleTeam2Score.bind(Object(f.a)(n)),n.handleGameComplete=n.handleGameComplete.bind(Object(f.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n}return Object(N.a)(t,[{key:"handleGameDate",value:function(e){this.setState({gameDate:e.currentTarget.value})}},{key:"handleTeam1Name",value:function(e){this.setState({team1Name:e.currentTarget.value})}},{key:"handleTeam2Name",value:function(e){this.setState({team2Name:e.currentTarget.value})}},{key:"handleTeam1Score",value:function(e){this.setState({team1Score:e.currentTarget.value})}},{key:"handleTeam2Score",value:function(e){this.setState({team2Score:e.currentTarget.value})}},{key:"handleGameComplete",value:function(e){var a=e.target,t="gameComplete"===a.name?a.checked:a.value,n=a.name;this.setState(Object(b.a)({},n,t))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleGameSave(Object(p.a)({},this.state))}},{key:"render",value:function(){var e=this.state,a=e.gameDate,t=e.team1Name,n=e.team2Name,l=e.team1Score,r=e.team2Score,c=e.gameComplete,i=""===t|""===n|""===a;return m.a.createElement("div",{className:"container"},m.a.createElement("h3",{className:"instructons-heading"},"Game details"),m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement(S,{label:"Game date",field:"gameDate",value:a,type:"date",handleChange:this.handleGameDate}),m.a.createElement(S,{label:"Team 1 Name",field:"team1Name",value:t,handleChange:this.handleTeam1Name}),m.a.createElement(S,{label:"Team 2 Name",field:"team2Name",value:n,handleChange:this.handleTeam2Name}),m.a.createElement(C,{label:"Game completed?:",field:"gameComplete",checked:c,handleChange:this.handleGameComplete}),c?m.a.createElement(m.a.Fragment,null,m.a.createElement(S,{label:"Team 1 Score",field:"team1Score",type:"number",value:l,handleChange:this.handleTeam1Score}),m.a.createElement(S,{label:"Team 2 Score",field:"team2Score",type:"number",value:r,handleChange:this.handleTeam2Score})):null,m.a.createElement("div",{className:"formErrors"},m.a.createElement("p",{className:"alert"},i?"Please complete team names and game date":"Game can be submitted!")),m.a.createElement(j,{type:"submit",message:"Submit",disabled:i})),m.a.createElement(u.a,{to:"/"},m.a.createElement("p",{className:"btn btn-primary"},"Back to Home")))}}]),t}(n.Component),Y=Object(h.b)((function(e){return{team1Name:e.team1Name,team2Name:e.team2Name}}),(function(e){return{handleGameSave:function(a){e(function(e){var a=e.gameDate,t=e.team1Name,n=e.team2Name,m=e.team1Score,l=e.team2Score,r=e.gameComplete;return function(e){D.post("/games",{game_date:a,team_1:t,team_2:n,team_1_score:+m,team_2_score:+l,game_complete:r}).then((function(){s.push("/game-saved")}))}}(a))}}}))(H),W=function(){return m.a.createElement("div",{className:"container"},m.a.createElement("h1",null,"Your game has been saved!"),m.a.createElement("div",{className:"adjacent-buttons"},m.a.createElement(u.a,{to:"/"},m.a.createElement("p",{className:"btn btn-primary"},"Take me home")),m.a.createElement(u.a,{to:"/game-history"},m.a.createElement("p",{className:"btn btn-danger"},"View previous game details"))))},J=function(e){Object(g.a)(t,e);var a=Object(y.a)(t);function t(){return Object(E.a)(this,t),a.apply(this,arguments)}return Object(N.a)(t,[{key:"render",value:function(){var e=this.props,a=e.children;return e.loaded?a:m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"progress"},m.a.createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated"})),m.a.createElement("div",{className:"loading-message"},m.a.createElement("p",null,"Been here a while? Something might have gone wrong. Click the button to go to home"),m.a.createElement(u.a,{to:"/"},m.a.createElement("p",{className:"btn btn-danger"},"Home"))))}}]),t}(n.Component),X=function(e){var a=e.games,t=e.handleLoad;return Object(n.useEffect)((function(){t()}),[t]),m.a.createElement("div",{className:"container history-table"},m.a.createElement("h3",{className:"instructions-heading"},"Game History"),m.a.createElement(J,{loaded:a.length},m.a.createElement("table",{className:"table"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{scope:"col"},"Game Date"),m.a.createElement("th",{scope:"col"},"Team Names"),m.a.createElement("th",{scope:"col"},"Score"),m.a.createElement("th",{scope:"col"},"Click link to update"))),m.a.createElement("tbody",null,a.map((function(e,a){return m.a.createElement("tr",{key:a},m.a.createElement("td",null,e.game_date),m.a.createElement("td",null,"".concat(e.team_1," | ").concat(e.team_2)),e.game_complete?m.a.createElement("td",null,"".concat(e.team_1_score," - ").concat(e.team_2_score)):m.a.createElement("td",null,"--"),m.a.createElement("td",null,m.a.createElement(u.a,{to:"/game-details/".concat(e.id)},"Update")))})))),m.a.createElement(u.a,{to:"/"},m.a.createElement("div",{className:"central-button"},m.a.createElement("p",{className:"btn btn-danger central-button"},"Back to home")))))},$=Object(h.b)((function(e){return{games:e.games}}),(function(e){return{handleLoad:function(){return e(w())}}}))(X),K=function(e){Object(g.a)(t,e);var a=Object(y.a)(t);function t(e){var n;Object(E.a)(this,t);var m={};return(n=a.call(this,e)).props.game&&(m=n.props.game),n.state={gameDate:m.game_date,team1Name:m.team_1,team2Name:m.team_2,team1Score:m.team_1_score,team2Score:m.team_2_score,gameComplete:m.game_complete,gamesLoaded:n.props.gamesLoaded},n.handleGameDate=n.handleGameDate.bind(Object(f.a)(n)),n.handleTeam1Name=n.handleTeam1Name.bind(Object(f.a)(n)),n.handleTeam2Name=n.handleTeam2Name.bind(Object(f.a)(n)),n.handleTeam1Score=n.handleTeam1Score.bind(Object(f.a)(n)),n.handleTeam2Score=n.handleTeam2Score.bind(Object(f.a)(n)),n.handleGameComplete=n.handleGameComplete.bind(Object(f.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n}return Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.gamesLoaded||this.props.handleLoad()}},{key:"componentDidUpdate",value:function(e){this.props.game!==e.game&&this.props.game&&this.setState({gameDate:this.props.game.game_date,team1Name:this.props.game.team_1,team2Name:this.props.game.team_2,team1Score:this.props.game.team_1_score,team2Score:this.props.game.team_2_score,gameComplete:this.props.game.game_complete,gamesLoaded:this.props.gamesLoaded})}},{key:"handleGameDate",value:function(e){this.setState({gameDate:e.currentTarget.value})}},{key:"handleTeam1Name",value:function(e){this.setState({team1Name:e.currentTarget.value})}},{key:"handleTeam2Name",value:function(e){this.setState({team2Name:e.currentTarget.value})}},{key:"handleTeam1Score",value:function(e){this.setState({team1Score:e.currentTarget.value})}},{key:"handleTeam2Score",value:function(e){this.setState({team2Score:e.currentTarget.value})}},{key:"handleGameComplete",value:function(e){var a=e.target,t="gameComplete"===a.name?a.checked:a.value,n=a.name;this.setState(Object(b.a)({},n,t))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleGameUpdate(Object(p.a)({},this.state),this.props.gameId)}},{key:"render",value:function(){var e=this.state,a=e.gameDate,t=e.team1Name,n=e.team2Name,l=e.team1Score,r=e.team2Score,c=e.gameComplete,i=""===t|""===n|""===a;return m.a.createElement("div",{className:"container"},m.a.createElement("h3",{className:"instructions-heading"},"Update Game details"),m.a.createElement(J,{loaded:this.props.game},m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement(S,{label:"Game date",field:"gameDate",value:a,type:"date",handleChange:this.handleGameDate}),m.a.createElement(S,{label:"Team 1 Name",field:"team1Name",value:t,handleChange:this.handleTeam1Name}),m.a.createElement(S,{label:"Team 2 Name",field:"team2Name",value:n,handleChange:this.handleTeam2Name}),m.a.createElement(C,{label:"Game completed?:",field:"gameComplete",checked:c,handleChange:this.handleGameComplete}),c?m.a.createElement(m.a.Fragment,null,m.a.createElement(S,{label:"Team 1 Score",field:"team1Score",type:"number",value:l,handleChange:this.handleTeam1Score}),m.a.createElement(S,{label:"Team 2 Score",field:"team2Score",type:"number",value:r,handleChange:this.handleTeam2Score})):null,m.a.createElement("div",{className:"formErrors"},m.a.createElement("p",{className:"alert"},i?"Please complete team names and game date":"Game can be submitted!")),m.a.createElement(j,{type:"submit",message:"Submit"})),m.a.createElement(u.a,{to:"/"},m.a.createElement("p",{className:"btn btn-primary"},"Back to Home"))))}}]),t}(n.Component),Q=Object(h.b)((function(e,a){var t=e.games,n=e.gamesLoaded,m=a.gameId;return{game:t.find((function(e){return e.id===+m})),gamesLoaded:n}}),(function(e){return{handleLoad:function(){return e(w())},handleGameUpdate:function(a,t){e(function(e,a){var t=e.gameDate,n=e.team1Name,m=e.team2Name,l=e.team1Score,r=e.team2Score,c=e.gameComplete;return function(e){D.put("/games/".concat(a),{game_date:t,team_1:n,team_2:m,team_1_score:+l,team_2_score:+r,game_complete:c}).then((function(){s.push("/game-saved")}))}}(a,t))}}}))(K),Z=function(){return m.a.createElement("div",{className:"container"},m.a.createElement("h1",null,"Whoops!"),m.a.createElement("h2",{className:"titleFont contrastHeading"},"Something went wrong.."),m.a.createElement(u.a,{to:"/"},m.a.createElement("div",{className:"central-button"},m.a.createElement("p",{className:"btn btn-primary"},"Take me home"))))},ee=function(){return m.a.createElement(c.b,{history:s},m.a.createElement("div",{className:"background_image"},m.a.createElement(o,null),m.a.createElement(c.c,null,m.a.createElement(c.a,{exact:!0,path:"/"},m.a.createElement(d,null)),m.a.createElement(c.a,{exact:!0,path:"/team-details"},m.a.createElement(R,null)),m.a.createElement(c.a,{exact:!0,path:"/name-entry"},m.a.createElement(x,null)),m.a.createElement(c.a,{exact:!0,path:"/team-selection"},m.a.createElement(q,null)),m.a.createElement(c.a,{exact:!0,path:"/game-details"},m.a.createElement(Y,null)),m.a.createElement(c.a,{exact:!0,path:"/game-saved"},m.a.createElement(W,null)),m.a.createElement(c.a,{exact:!0,path:"/game-history"},m.a.createElement($,null)),m.a.createElement(c.a,{path:"/game-details/:id",render:function(e){var a=e.match;return m.a.createElement(Q,{gameId:a.params.id})}}),m.a.createElement(Z,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=t(18),te=t(39),ne=t(40),me=t.n(ne),le={team1Name:"Team 1",team2Name:"Team 2",teamSize:5,abilityPick:!1,players:[],teams:[],reEntry:!1,games:[],gamesLoaded:!1},re=function(e,a){switch(a.type){case"SAVE_SETTINGS":return function(e,a){var t=a.team1Name,n=a.team2Name,m=a.teamSize,l=a.abilityPick;return Object(p.a)(Object(p.a)({},le),{},{team1Name:t,team2Name:n,teamSize:m,abilityPick:l})}(0,a);case"SAVE_PLAYERS":return function(e,a){var t=a.randomisedTeams,n=a.equalisedTeams,m=a.players,l=t.filter((function(e){return 50!==e.ability}));return Object(p.a)(Object(p.a)({},e),{},{players:m,teams:e.abilityPick&&0!==l.length?n:t})}(e,a);case"SAVE_NAMES":return function(e,a){var t=a.team1Name,n=a.team2Name;return Object(p.a)(Object(p.a)({},e),{},{team1Name:t,team2Name:n})}(e,a);case"AMEND_ENTRIES":return function(e){return Object(p.a)(Object(p.a)({},e),{},{reEntry:!0})}(e);case"SAVE_GAMES":return function(e,a){var t=a.games;return Object(p.a)(Object(p.a)({},e),{},{games:t,gamesLoaded:!0})}(e,a);case"RESET":return Object(p.a)({},le);default:return e}},ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ae.c,ie=Object(ae.d)(re,le,ce(Object(ae.a)(te.a),me()()));r.a.render(m.a.createElement(h.a,{store:ie},m.a.createElement(m.a.StrictMode,null,m.a.createElement(ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.3da0742d.chunk.js.map