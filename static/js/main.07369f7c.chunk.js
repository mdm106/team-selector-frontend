(this["webpackJsonpteam-selector-frontend"]=this["webpackJsonpteam-selector-frontend"]||[]).push([[0],{41:function(e,a,t){e.exports=t(77)},46:function(e,a,t){},47:function(e,a,t){},77:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),m=t(20),r=t.n(m),c=(t(46),t(47),t(4)),i=t(8),s=Object(i.b)(),o=function(){return l.a.createElement("div",{className:"container main-title"},l.a.createElement("header",{className:"title-text"},l.a.createElement("h1",null,"Team Selector"),l.a.createElement("h5",null,"Never be picked last again")))},u=t(5),d=t(3),h=function(e){var a=e.type,t=e.className,n=e.onClick,m=e.message,r=e.disabled;return l.a.createElement("button",{type:a,className:"btn btn-".concat(t),onClick:n,disabled:r},m)};h.defaultProps={type:"button",className:"primary",disabled:!1};var p=h,b=function(e){var a=e.handleStart;return l.a.createElement("div",{className:"container"},l.a.createElement("h5",null,"Team Selector helps you quickly and fairly pick your teams. Less time organising, more time winning."),l.a.createElement("br",null),l.a.createElement("ul",{className:"about-list"},l.a.createElement("h5",null,"Features include:"),l.a.createElement("li",null,"Team name generator to randomly assign your teams with fun names"),l.a.createElement("li",null,"Selection for team sizes ranging from 5-a-side up to 11-a-side"),l.a.createElement("li",null,"Random selection of teams"),l.a.createElement("li",null,"Option to provide player ability scores for balanced team selection"),l.a.createElement("li",null,"Copy feature so that you can easily copy the team details to paste into email, text messages etc"),l.a.createElement("li",null,"Save game details, including the game date and team names"),l.a.createElement("li",null,"Update game details with the score, when the game is complete"),l.a.createElement("li",null,"View the details from previous games")),l.a.createElement("div",{className:"central-button"},l.a.createElement(p,{className:"primary",message:"Get selecting!",onClick:a})),l.a.createElement("div",{className:"central-button"},l.a.createElement(d.a,{to:"/game-history"},l.a.createElement("p",{className:"btn btn-danger"},"View previous game details"))))},E=function(e){for(var a=e.length-1;a>0;a-=1){var t=Math.floor(Math.random()*a),n=e[a];e[a]=e[t],e[t]=n}return[e.filter((function(e,a){return a%2===0})),e.filter((function(e,a){return a%2!==0}))]},N=function(e){e.sort((function(e,a){return e.ability-a.ability}));for(var a=e.length/2,t=0,n=0,l=e.length-1,m=0,r=0,c=[],i=[];t<a&&n<a;)m<r?(c[t]=e[l],t+=1,m+=e[l].ability):(i[n]=e[l],n+=1,r+=e[l].ability),l-=1;return c.length<a?c=e.filter((function(e){return!i.includes(e)})):i.length<a&&(i=e.filter((function(e){return!c.includes(e)}))),[c,i]},f=Object(u.b)(null,(function(e){return{handleStart:function(){e({type:"RESET"}),s.push("/team-details")}}}))(b),g=t(6),y=t(16),v=t(12),S=t(13),k=t(1),T=t(15),C=t(14),O=function(e){var a=e.field,t=e.type,n=e.value,m=e.handleChange,r=e.label,c=e.inputClass,i=e.groupClass;return l.a.createElement("div",{className:i},l.a.createElement("label",{htmlFor:a},r),l.a.createElement("input",{className:c,id:a,name:a,type:t,value:n,onChange:m}))};O.defaultProps={inputClass:"form-control",groupClass:"form-group",type:"text"};var j=O,_=function(e){var a=e.field,t=e.value,n=e.handleChange,m=e.label,r=e.options;return l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:a},m),l.a.createElement("select",{className:"form-control",id:a,name:a,value:t,onChange:n},r.map((function(e,a){return l.a.createElement("option",{key:a,value:e},e)}))))},P=function(e){var a=e.groupClass,t=e.label,n=e.field,m=e.checked,r=e.handleChange;return l.a.createElement("div",{className:a},l.a.createElement("label",null,t,l.a.createElement("input",{name:n,type:"checkbox",checked:m,onChange:r})))};P.defaultProps={groupClass:"form-check"};var A=P,G=function(e){Object(T.a)(t,e);var a=Object(C.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={team1Name:e.team1Name,team2Name:e.team2Name,teamSize:e.teamSize,abilityPick:e.abilityPick,namePicked:!1,nameConfirmed:!1},n.handleNameButton=n.handleNameButton.bind(Object(k.a)(n)),n.handleConfirmName=n.handleConfirmName.bind(Object(k.a)(n)),n.handleResetNameButton=n.handleResetNameButton.bind(Object(k.a)(n)),n.handleTeam1Name=n.handleTeam1Name.bind(Object(k.a)(n)),n.handleTeam2Name=n.handleTeam2Name.bind(Object(k.a)(n)),n.handleTeamSize=n.handleTeamSize.bind(Object(k.a)(n)),n.handleAbilityPick=n.handleAbilityPick.bind(Object(k.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(k.a)(n)),n.handleResetForm=n.handleResetForm.bind(Object(k.a)(n)),n}return Object(S.a)(t,[{key:"handleNameButton",value:function(){this.props.handleTeamName(),this.setState((function(e,a){return{namePicked:!0,team1Name:a.team1Name,team2Name:a.team2Name}}))}},{key:"handleConfirmName",value:function(){this.setState({team1Name:this.props.team1Name,team2Name:this.props.team2Name,nameConfirmed:!0})}},{key:"handleResetNameButton",value:function(){this.setState({namePicked:!1,team1Name:"Team 1",team2Name:"Team 2"})}},{key:"handleTeam1Name",value:function(e){this.setState({team1Name:e.currentTarget.value})}},{key:"handleTeam2Name",value:function(e){this.setState({team2Name:e.currentTarget.value})}},{key:"handleTeamSize",value:function(e){this.setState({teamSize:e.currentTarget.value})}},{key:"handleAbilityPick",value:function(e){var a=e.target,t=a.checked,n=a.name;this.setState(Object(y.a)({},n,t))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleSave(Object(g.a)({},this.state))}},{key:"handleResetForm",value:function(){this.props.handleFormReset(),this.setState({abilityPick:!1,team1Name:"Team 1",team2Name:"Team 2",teamSize:5,namePicked:!1,nameConfirmed:!1})}},{key:"render",value:function(){var e=this.state,a=e.team1Name,t=e.team2Name,n=e.teamSize,m=e.abilityPick,r=e.namePicked,c=e.nameConfirmed;return l.a.createElement("div",{className:"container"},l.a.createElement("h3",{className:"instructions-heading"},"Team Details"),c?null:l.a.createElement("div",{className:"name-picker-text"},l.a.createElement("p",{className:"name-picker-para"},"Need inspiration? Use our name picker:"),l.a.createElement(p,{onClick:this.handleNameButton,message:r?"Click again for more names!":"Click me for cool names!"})),r&&!c?l.a.createElement(l.a.Fragment,null,l.a.createElement(p,{onClick:this.handleConfirmName,message:"Use the team names below!",className:"btn btn-primary gapped-buttons"}),l.a.createElement(p,{onClick:this.handleResetNameButton,message:"I'll choose my own thanks"})):null,r?l.a.createElement("ul",{className:"team-name-list"},l.a.createElement("h4",null,"Your team names are:"),"Team 1"===this.props.team1Name?l.a.createElement("p",null,"Loading..."):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement("h5",null,this.props.team1Name)),l.a.createElement("li",null,l.a.createElement("h5",null,this.props.team2Name)))):null,l.a.createElement("form",null,r?null:l.a.createElement(l.a.Fragment,null,l.a.createElement(j,{label:"Team 1 Name:",field:a,value:r?this.props.team1Name:a,handleChange:this.handleTeam1Name}),l.a.createElement(j,{label:"Team 2 Name:",field:t,value:r?this.props.team2Name:t,handleChange:this.handleTeam2Name})),!r||c?l.a.createElement(l.a.Fragment,null,l.a.createElement(_,{field:"teamSize",value:n,label:"Players per team:",handleChange:this.handleTeamSize,options:["3","4","5","6","7","8","9","10","11"]}),l.a.createElement(A,{label:"Select teams by ability:",field:"abilityPick",checked:m,handleChange:this.handleAbilityPick}),l.a.createElement(p,{type:"submit",onClick:this.handleSubmit,message:"Submit"}),l.a.createElement("div",{className:"adjacent-buttons"},l.a.createElement(p,{className:"danger",message:"Reset form",onClick:this.handleResetForm}),l.a.createElement(d.a,{to:"/"},l.a.createElement("p",{className:"btn btn-danger"},"Back to home")))):null))}}]),t}(n.Component),D=t(37),w=t.n(D).a.create({baseURL:"https://stark-ravine-35553.herokuapp.com/api",headers:{Accept:"application/json"}}),R=function(){return function(e){return w.get("/games").then((function(a){var t=a.data;e(function(e){return{type:"SAVE_GAMES",games:e}}(t.data))}))}},F=Object(u.b)((function(e){return{team1Name:e.team1Name,team2Name:e.team2Name,teamSize:e.teamSize,abilityPick:e.abilityPick}}),(function(e){return{handleSave:function(a){var t;e({type:"SAVE_SETTINGS",team1Name:(t=a).team1Name,team2Name:t.team2Name,teamSize:+t.teamSize,abilityPick:t.abilityPick}),s.push("/name-entry")},handleTeamName:function(){return e((function(e){return w.get("/team-names/random").then((function(a){var t=a.data;e(function(e){return{type:"SAVE_NAMES",team1Name:e[0].name,team2Name:e[1].name}}(t.data))}))}))},handleFormReset:function(){return e({type:"RESET"})}}}))(G),z=function(e){var a=e.formErrors;return l.a.createElement("div",{className:"formErrors"},Object.keys(a).map((function(e,t){return a[e].length>0?l.a.createElement("p",{className:"alert",key:t},a[e]):""})))},L=function(e){Object(T.a)(t,e);var a=Object(C.a)(t);function t(e){var n;Object(v.a)(this,t),n=a.call(this,e);var l=Array.from(Array(2*e.teamSize),(function(e,a){return a+1})),m=l.map((function(){return""}));0!==e.players.length&&(m=e.players.map((function(e){return e.name})));var r=l.map((function(){return"50"}));return 0!==e.players.length&&(r=e.players.map((function(e){return e.ability}))),n.state={totalPlayers:l,playerNames:m,playerAbilities:r,formErrors:{incompletePlayerNames:"",duplicatePlayerNames:""},playerNamesComplete:!1,playerNamesUnique:!1,formValid:e.reEntry,reEntry:e.reEntry},n.handleNameInput=n.handleNameInput.bind(Object(k.a)(n)),n.handleAbilityInput=n.handleAbilityInput.bind(Object(k.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(k.a)(n)),n}return Object(S.a)(t,[{key:"validateField",value:function(e,a){var t,n=this.state.formErrors,l=this.state.playerNamesComplete,m=this.state.playerNamesUnique,r=this.state.totalPlayers.length;switch(e){case"playerNames":m=(l=-1===a.indexOf(""))&&0===(t=a,(t=t.map((function(e){return e.toLowerCase()}))).filter((function(e,a){return t.indexOf(e)!==a}))).length,n.incompletePlayerNames=l?"":"Please enter ".concat(r," player names"),n.duplicatePlayerNames=m||l?!m&&l?"Duplicate names present, please ensure all names are unique":"Click submit to find out your teams!":""}this.setState({formErrors:n,playerNamesComplete:l,playerNamesUnique:m},this.validateForm)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.playerNamesComplete&&this.state.playerNamesUnique||this.state.reEntry})}},{key:"handleNameInput",value:function(e,a){var t=this,n=this.state.playerNames.slice();n[a]=e.currentTarget.value,this.setState({playerNames:n,reEntry:!1},(function(){t.validateField("playerNames",t.state.playerNames)}))}},{key:"handleAbilityInput",value:function(e,a){var t=this.state.playerAbilities.slice();t[a]=e.currentTarget.value,this.setState({playerAbilities:t,reEntry:!1})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleNameEntries(Object(g.a)({},this.state))}},{key:"render",value:function(){var e=this,a=this.state,t=a.playerNames,n=a.playerAbilities,m=a.totalPlayers,r=this.props.abilityPick;return l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"Enter player names ",r?"and abilities":null," here:"),l.a.createElement("form",{onSubmit:this.handleSubmit},m.map((function(a,m){return l.a.createElement("div",{className:"player-form",key:m},l.a.createElement(j,{label:"Player ".concat(a," Name:"),groupClass:(r?"ability-pick ":"no-ability-pick")+" form-group",field:"player".concat(a,"Name"),value:t[m],handleChange:function(a){return e.handleNameInput(a,m)}}),r?l.a.createElement(j,{label:"Ability:",field:"player".concat(a,"Ability"),type:"range",inputClass:"custom-range",groupClass:(r?"ability-pick ":"no-ability-pick")+" form-group",value:n[m],handleChange:function(a){return e.handleAbilityInput(a,m)}}):null)})),l.a.createElement("div",{className:"panel panel-default"},l.a.createElement(z,{formErrors:this.state.formErrors})),l.a.createElement("div",null,l.a.createElement(p,{type:"submit",message:"Submit",disabled:!this.state.formValid})),l.a.createElement("div",null,l.a.createElement(d.a,{to:"/team-details"},l.a.createElement("p",{className:"btn btn-danger gapped-buttons"},"Back to settings form")),l.a.createElement(d.a,{to:"/"},l.a.createElement("p",{className:"btn btn-danger"},"Home")))))}}]),t}(n.Component),x=Object(u.b)((function(e){return{teamSize:e.teamSize,abilityPick:e.abilityPick,players:e.players,reEntry:e.reEntry}}),(function(e){return{handleNameEntries:function(a){e(function(e){var a=e.playerNames,t=e.playerAbilities,n=function(e,a,t){for(var n=[],l=0;l<e.length;l++){var m={id:e[l],name:a[l],ability:+t[l]};n.push(m)}return n}(e.totalPlayers,a,t);return{type:"SAVE_PLAYERS",randomisedTeams:E(n),equalisedTeams:N(n),players:n.sort((function(e,a){return e.id-a.id}))}}(a)),s.push("/team-selection")}}}))(L),I=function(e){var a=e.handleReset;return l.a.createElement("button",{className:"btn btn-danger",onClick:a},"Start again")},B=Object(u.b)(null,(function(e){return{handleReset:function(){e({type:"RESET"}),s.push("/team-details")}}}))(I),V=t(38),U=function(e){Object(T.a)(t,e);var a=Object(C.a)(t);function t(e){var n;Object(v.a)(this,t);var l,m,r;return(n=a.call(this,e)).state={value:(l=e.team1Name,m=e.team2Name,r=e.teams,r.length>0?"Team: "+l+r[0].reduce((function(e,a){return e+a.name+"\n"}),"\n")+"\nTeam: "+m+r[1].reduce((function(e,a){return e+a.name+"\n"}),"\n"):""),copied:!1},n.handleCopy=n.handleCopy.bind(Object(k.a)(n)),n}return Object(S.a)(t,[{key:"handleCopy",value:function(){this.setState({copied:!0})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(V.CopyToClipboard,{text:this.state.value,onCopy:this.handleCopy},l.a.createElement("button",{className:"btn btn-primary"},"Copy team details to clipboard")),this.state.copied?l.a.createElement("span",{className:"copied-msg"},"Copied"):null)}}]),t}(n.Component),M=Object(u.b)((function(e){return{team1Name:e.team1Name,team2Name:e.team2Name,teams:e.teams}}))(U),q=function(e){var a=e.team1Name,t=e.team2Name,n=e.teams,m=e.abilityPick,r=e.handleAmend;return l.a.createElement("div",{className:"container"},l.a.createElement("h2",null,"Your team selection is:"),n.map((function(e,n){return l.a.createElement("div",{key:n,className:"card"},l.a.createElement("ul",{className:"list-group"},l.a.createElement("h3",{className:"card-title"},0===n?a:t)),e.map((function(e,a){return l.a.createElement("li",{className:"list-group-item",key:a},l.a.createElement("p",{className:"list-group-item-text"},e.name),m?l.a.createElement("p",{className:"list-group-item-text"},"Ability: ",e.ability,"/100"):null)})),m?l.a.createElement("p",{className:"average-info"},"Average ability: ",(e.reduce((function(e,a){return e+a.ability}),0)/e.length).toFixed(1)):null)})),l.a.createElement("div",{className:"adjacent-buttons"},l.a.createElement(p,{message:"Amend player details",onClick:r}),l.a.createElement(B,null)),l.a.createElement("div",{className:"adjacent-buttons"},l.a.createElement(M,null),l.a.createElement(d.a,{to:"/game-details"},l.a.createElement("p",{className:"btn btn-primary"},"Save game details"))))},H=Object(u.b)((function(e){return{team1Name:e.team1Name,team2Name:e.team2Name,teams:e.teams,abilityPick:e.abilityPick}}),(function(e){return{handleAmend:function(){e({type:"AMEND_ENTRIES"}),s.push("/name-entry")}}}))(q),Y=function(e){Object(T.a)(t,e);var a=Object(C.a)(t);function t(e){var n;return Object(v.a)(this,t),(n=a.call(this,e)).state={gameDate:"",team1Name:e.team1Name,team2Name:e.team2Name,team1Score:0,team2Score:0,gameComplete:!1},n.handleGameDate=n.handleGameDate.bind(Object(k.a)(n)),n.handleTeam1Name=n.handleTeam1Name.bind(Object(k.a)(n)),n.handleTeam2Name=n.handleTeam2Name.bind(Object(k.a)(n)),n.handleTeam1Score=n.handleTeam1Score.bind(Object(k.a)(n)),n.handleTeam2Score=n.handleTeam2Score.bind(Object(k.a)(n)),n.handleGameComplete=n.handleGameComplete.bind(Object(k.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(k.a)(n)),n}return Object(S.a)(t,[{key:"handleGameDate",value:function(e){this.setState({gameDate:e.currentTarget.value})}},{key:"handleTeam1Name",value:function(e){this.setState({team1Name:e.currentTarget.value})}},{key:"handleTeam2Name",value:function(e){this.setState({team2Name:e.currentTarget.value})}},{key:"handleTeam1Score",value:function(e){this.setState({team1Score:e.currentTarget.value})}},{key:"handleTeam2Score",value:function(e){this.setState({team2Score:e.currentTarget.value})}},{key:"handleGameComplete",value:function(e){var a=e.target,t=a.checked,n=a.name;this.setState(Object(y.a)({},n,t))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleGameSave(Object(g.a)({},this.state))}},{key:"render",value:function(){var e=this.state,a=e.gameDate,t=e.team1Name,n=e.team2Name,m=e.team1Score,r=e.team2Score,c=e.gameComplete,i=""===t|""===n|""===a;return l.a.createElement("div",{className:"container"},l.a.createElement("h3",{className:"instructons-heading"},"Game details"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(j,{label:"Game date",field:"gameDate",value:a,type:"date",handleChange:this.handleGameDate}),l.a.createElement(j,{label:"Team 1 Name",field:"team1Name",value:t,handleChange:this.handleTeam1Name}),l.a.createElement(j,{label:"Team 2 Name",field:"team2Name",value:n,handleChange:this.handleTeam2Name}),l.a.createElement(A,{label:"Game completed?:",field:"gameComplete",checked:c,handleChange:this.handleGameComplete}),c?l.a.createElement(l.a.Fragment,null,l.a.createElement(j,{label:"Team 1 Score",field:"team1Score",type:"number",value:m,handleChange:this.handleTeam1Score}),l.a.createElement(j,{label:"Team 2 Score",field:"team2Score",type:"number",value:r,handleChange:this.handleTeam2Score})):null,l.a.createElement("div",{className:"formErrors"},l.a.createElement("p",{className:"alert"},i?"Please complete team names and game date":"Game can be submitted!")),l.a.createElement(p,{type:"submit",message:"Submit",disabled:i})),l.a.createElement(d.a,{to:"/"},l.a.createElement("p",{className:"btn btn-primary"},"Back to Home")))}}]),t}(n.Component),W=Object(u.b)((function(e){return{team1Name:e.team1Name,team2Name:e.team2Name}}),(function(e){return{handleGameSave:function(a){e(function(e){var a=e.gameDate,t=e.team1Name,n=e.team2Name,l=e.team1Score,m=e.team2Score,r=e.gameComplete;return function(e){w.post("/games",{game_date:a,team_1:t,team_2:n,team_1_score:+l,team_2_score:+m,game_complete:r}).then((function(){s.push("/game-saved")}))}}(a))}}}))(Y),J=function(){return l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Your game has been saved!"),l.a.createElement("div",{className:"adjacent-buttons"},l.a.createElement(d.a,{to:"/"},l.a.createElement("p",{className:"btn btn-primary"},"Take me home")),l.a.createElement(d.a,{to:"/game-history"},l.a.createElement("p",{className:"btn btn-danger"},"View previous game details"))))},X=function(e){Object(T.a)(t,e);var a=Object(C.a)(t);function t(){return Object(v.a)(this,t),a.apply(this,arguments)}return Object(S.a)(t,[{key:"render",value:function(){var e=this.props,a=e.children;return e.loaded?a:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"progress"},l.a.createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated"})),l.a.createElement("div",{className:"loading-message"},l.a.createElement("p",null,"Been here a while? Something might have gone wrong. Click the button to go to home"),l.a.createElement(d.a,{to:"/"},l.a.createElement("p",{className:"btn btn-danger"},"Home"))))}}]),t}(n.Component),$=function(e){var a=e.games,t=e.handleLoad;return Object(n.useEffect)((function(){t()}),[t]),l.a.createElement("div",{className:"container history-table"},l.a.createElement("h3",{className:"instructions-heading"},"Game History"),l.a.createElement(X,{loaded:a.length},l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Game Date"),l.a.createElement("th",{scope:"col"},"Team Names"),l.a.createElement("th",{scope:"col"},"Score"),l.a.createElement("th",{scope:"col"},"Click link to update"))),l.a.createElement("tbody",null,a.map((function(e,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,e.game_date),l.a.createElement("td",null,"".concat(e.team_1," | ").concat(e.team_2)),e.game_complete?l.a.createElement("td",null,"".concat(e.team_1_score," - ").concat(e.team_2_score)):l.a.createElement("td",null,"--"),l.a.createElement("td",null,l.a.createElement(d.a,{to:"/game-details/".concat(e.id)},"Update")))})))),l.a.createElement(d.a,{to:"/"},l.a.createElement("div",{className:"central-button"},l.a.createElement("p",{className:"btn btn-danger central-button"},"Back to home")))))},K=Object(u.b)((function(e){return{games:e.games}}),(function(e){return{handleLoad:function(){return e(R())}}}))($),Q=function(e){Object(T.a)(t,e);var a=Object(C.a)(t);function t(e){var n;Object(v.a)(this,t);var l={};return(n=a.call(this,e)).props.game&&(l=n.props.game),n.state={gameDate:l.game_date,team1Name:l.team_1,team2Name:l.team_2,team1Score:l.team_1_score,team2Score:l.team_2_score,gameComplete:l.game_complete,gamesLoaded:n.props.gamesLoaded},n.handleGameDate=n.handleGameDate.bind(Object(k.a)(n)),n.handleTeam1Name=n.handleTeam1Name.bind(Object(k.a)(n)),n.handleTeam2Name=n.handleTeam2Name.bind(Object(k.a)(n)),n.handleTeam1Score=n.handleTeam1Score.bind(Object(k.a)(n)),n.handleTeam2Score=n.handleTeam2Score.bind(Object(k.a)(n)),n.handleGameComplete=n.handleGameComplete.bind(Object(k.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(k.a)(n)),n}return Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.gamesLoaded||this.props.handleLoad()}},{key:"componentDidUpdate",value:function(e){this.props.game!==e.game&&this.props.game&&this.setState({gameDate:this.props.game.game_date,team1Name:this.props.game.team_1,team2Name:this.props.game.team_2,team1Score:this.props.game.team_1_score,team2Score:this.props.game.team_2_score,gameComplete:this.props.game.game_complete,gamesLoaded:this.props.gamesLoaded})}},{key:"handleGameDate",value:function(e){this.setState({gameDate:e.currentTarget.value})}},{key:"handleTeam1Name",value:function(e){this.setState({team1Name:e.currentTarget.value})}},{key:"handleTeam2Name",value:function(e){this.setState({team2Name:e.currentTarget.value})}},{key:"handleTeam1Score",value:function(e){this.setState({team1Score:e.currentTarget.value})}},{key:"handleTeam2Score",value:function(e){this.setState({team2Score:e.currentTarget.value})}},{key:"handleGameComplete",value:function(e){var a=e.target,t=a.checked,n=a.name;this.setState(Object(y.a)({},n,t))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleGameUpdate(Object(g.a)({},this.state),this.props.gameId)}},{key:"render",value:function(){var e=this.state,a=e.gameDate,t=e.team1Name,n=e.team2Name,m=e.team1Score,r=e.team2Score,c=e.gameComplete,i=""===t|""===n|""===a;return l.a.createElement("div",{className:"container"},l.a.createElement("h3",{className:"instructions-heading"},"Update Game details"),l.a.createElement(X,{loaded:this.props.game},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement(j,{label:"Game date",field:"gameDate",value:a,type:"date",handleChange:this.handleGameDate}),l.a.createElement(j,{label:"Team 1 Name",field:"team1Name",value:t,handleChange:this.handleTeam1Name}),l.a.createElement(j,{label:"Team 2 Name",field:"team2Name",value:n,handleChange:this.handleTeam2Name}),l.a.createElement(A,{label:"Game completed?:",field:"gameComplete",checked:c,handleChange:this.handleGameComplete}),c?l.a.createElement(l.a.Fragment,null,l.a.createElement(j,{label:"Team 1 Score",field:"team1Score",type:"number",value:m,handleChange:this.handleTeam1Score}),l.a.createElement(j,{label:"Team 2 Score",field:"team2Score",type:"number",value:r,handleChange:this.handleTeam2Score})):null,l.a.createElement("div",{className:"formErrors"},l.a.createElement("p",{className:"alert"},i?"Please complete team names and game date":"Game can be submitted!")),l.a.createElement(p,{type:"submit",message:"Submit"})),l.a.createElement(d.a,{to:"/"},l.a.createElement("p",{className:"btn btn-primary"},"Back to Home"))))}}]),t}(n.Component),Z=Object(u.b)((function(e,a){var t=e.games,n=e.gamesLoaded,l=a.gameId;return{game:t.find((function(e){return e.id===+l})),gamesLoaded:n}}),(function(e){return{handleLoad:function(){return e(R())},handleGameUpdate:function(a,t){e(function(e,a){var t=e.gameDate,n=e.team1Name,l=e.team2Name,m=e.team1Score,r=e.team2Score,c=e.gameComplete;return function(e){w.put("/games/".concat(a),{game_date:t,team_1:n,team_2:l,team_1_score:+m,team_2_score:+r,game_complete:c}).then((function(){s.push("/game-saved")}))}}(a,t))}}}))(Q),ee=function(){return l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Whoops!"),l.a.createElement("h2",{className:"titleFont contrastHeading"},"Something went wrong.."),l.a.createElement(d.a,{to:"/"},l.a.createElement("div",{className:"central-button"},l.a.createElement("p",{className:"btn btn-primary"},"Take me home"))))},ae=function(){return l.a.createElement(c.b,{history:s},l.a.createElement("div",{className:"background_image"},l.a.createElement(o,null),l.a.createElement(c.c,null,l.a.createElement(c.a,{exact:!0,path:"/"},l.a.createElement(f,null)),l.a.createElement(c.a,{exact:!0,path:"/team-details"},l.a.createElement(F,null)),l.a.createElement(c.a,{exact:!0,path:"/name-entry"},l.a.createElement(x,null)),l.a.createElement(c.a,{exact:!0,path:"/team-selection"},l.a.createElement(H,null)),l.a.createElement(c.a,{exact:!0,path:"/game-details"},l.a.createElement(W,null)),l.a.createElement(c.a,{exact:!0,path:"/game-saved"},l.a.createElement(J,null)),l.a.createElement(c.a,{exact:!0,path:"/game-history"},l.a.createElement(K,null)),l.a.createElement(c.a,{path:"/game-details/:id",render:function(e){var a=e.match;return l.a.createElement(Z,{gameId:a.params.id})}}),l.a.createElement(ee,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=t(18),ne=t(39),le=t(40),me=t.n(le),re={team1Name:"Team 1",team2Name:"Team 2",teamSize:5,abilityPick:!1,players:[],teams:[],reEntry:!1,games:[],gamesLoaded:!1},ce=function(e,a){switch(a.type){case"SAVE_SETTINGS":return function(e,a){var t=a.team1Name,n=a.team2Name,l=a.teamSize,m=a.abilityPick;return Object(g.a)(Object(g.a)({},re),{},{team1Name:t,team2Name:n,teamSize:l,abilityPick:m})}(0,a);case"SAVE_PLAYERS":return function(e,a){var t=a.randomisedTeams,n=a.equalisedTeams,l=a.players,m=t.filter((function(e){return 50!==e.ability}));return Object(g.a)(Object(g.a)({},e),{},{players:l,teams:e.abilityPick&&0!==m.length?n:t})}(e,a);case"SAVE_NAMES":return function(e,a){var t=a.team1Name,n=a.team2Name;return Object(g.a)(Object(g.a)({},e),{},{team1Name:t,team2Name:n})}(e,a);case"AMEND_ENTRIES":return function(e){return Object(g.a)(Object(g.a)({},e),{},{reEntry:!0})}(e);case"SAVE_GAMES":return function(e,a){var t=a.games;return Object(g.a)(Object(g.a)({},e),{},{games:t,gamesLoaded:!0})}(e,a);case"RESET":return Object(g.a)({},re);default:return e}},ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||te.c,se=Object(te.d)(ce,re,ie(Object(te.a)(ne.a),me()()));r.a.render(l.a.createElement(u.a,{store:se},l.a.createElement(l.a.StrictMode,null,l.a.createElement(ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.07369f7c.chunk.js.map